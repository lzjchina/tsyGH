(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2769ec92"],{"568b":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i="wss://172.16.8.18:40506"},"5d7e":function(t,e,n){},6726:function(t,e,n){"use strict";var i=n("5d7e"),s=n.n(i);s.a},c3e5:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAASCAYAAABB7B6eAAACfklEQVQ4T5WUPYgTQRTH/282WxiiqHiiHoincqKFYqWdRosjuzOeKMZG5FBsbOz0Cu88PQuxsbIInIogFgEJm50NOUE5rLQ4xc5Cw9mIiJUfOTDuPplgINnbJJfp5n393pv33hBix/f9NICrRHQOwA4AS8z8BMBdpVQ9bt/vTu0GJjgRvQRwKMHxDTMfGxTSAdBa3wIw1SOrWSnldL+s2/UdgCAIPjLzrh4BalLKpr5QKNjDw8OTRHSBmbcAeM/M00qp510BWus/AOwegFBKmTJ63/cfE9H5mG1IRCdd19UtebwHNSIa6QFYklKO+L5/gIjeAejwN37M/EEptTcREATBLDNf7wZg5ttKqSmt9UUAc93sbNvOjI2N/Tb6FVME4AURHY47M/NrAMfNFGmtTwF4lgRg5uVMJrMum83+XQEwgmKxuCadTk8CMHuw3ewBgKf1ev1OPp9fNjae5621LOsTgKGEROaUUpcSn2iQ8fN9/ygRmSo2tvm9CsNQjo+P/+wLqFQqQ2EY7mfm3UKITQBMyV+FECXHcX6YAFrrDVEUnRZCbCait47jzBMR99qD0SiKJojoBIB9bT2KADwiolnXdT8PUmmzydVqdWuj0bhHRGcAiFiAX5Zlnc3lcpWW3PO8g0YGIAtgFID5v74w8yIzayIqtr4U8jxvj2VZCwDMNsaPydyRUs7/b+62VCpVYGbZp4rvAK5JKR9SEAQLzHyki0NVSpkzulKptN627UUAO1f7RFEUXSGttWme1WWmm4tldOVy+bIQ4v5qgxs7Zv5mAB1d75gAohnXdW8aWRAEN5h5ZhBAc9G01mZhEsumNkC5XJ4QQjxIGIJezNo/9fb4rZPsrCIAAAAASUVORK5CYII="},c7e1:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"phoneLive"},[i("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",attrs:{id:"id_test_video",playsinline:!0,options:t.playerOptions},on:{playing:function(e){return t.onPlayerPlaying(e)},statechanged:function(e){return t.playerStateChanged(e)}}},[t._v(" >")]),i("div",{staticClass:"tipsArea"},[i("p",{staticClass:"ptext"},[t._v(t._s(t.liveMsg.liveTitle))]),i("div",{staticClass:"number"},[i("img",{attrs:{src:n("c3e5"),alt:""}}),i("span",[t._v(t._s(t.roomNumber)+"人正在参与")])])]),i("div",{staticClass:"describe"},[t._m(0),i("div",{staticClass:"profile",domProps:{innerHTML:t._s(t.liveMsg.profile)}})])],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",{staticClass:"desHead"},[n("span",[t._v("课程介绍")])])}],o=(n("99af"),n("4de4"),n("2319")),a=n("568b"),r={data:function(){return{playerOptions:{autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"application/x-mpegURL",src:""},{type:"application/x-mpegURL",src:""}],poster:"",notSupportedMessage:"此视频暂无法播放，请稍后再试"},liveMsg:{},roomNumber:1,timer:null,roomNum:this.$route.query.room,baseURL:a["a"],WS:null}},mounted:function(){var t=this;this.setRem(),window.addEventListener("beforeunload",(function(){t.setCurrentFontSize()})),this.getRoomNum(),this.wsLink()},beforeDestroy:function(){this.setCurrentFontSize()},methods:{playerStateChanged:function(){},onPlayerPlaying:function(t){console.log(t)},wsLink:function(){var t=this,e=this.$route.query.room;this.WS=new WebSocket("".concat(this.baseURL,"/web/live/").concat(e,"/audience-count")),this.WS.onopen=function(){console.log("连接")},this.WS.onmessage=function(e){var n=JSON.parse(e.data);t.roomNumber=n.data},this.WS.onclose=function(){console.log("关闭")}},setRem:function(){var t=window.innerWidth/750;document.getElementsByTagName("html")[0].style["font-size"]=100*t+"px"},setCurrentFontSize:function(){document.getElementsByTagName("html")[0].style["font-size"]="14px"},getRoomOnlineNum:function(t){var e=this;Object(o["f"])(t).then((function(t){200==t.code&&(e.roomNumber=0==t.data?1:t.data)}))},getRoomNum:function(){var t=this.$route.query.room;this.getLiveDetails(t)},getLiveDetails:function(t){var e=this;Object(o["b"])(t).then((function(t){if(200==t.code){e.liveMsg=t.data;var n=t.data.playList,i=n.filter((function(t){return 3==t.type})),s=n.filter((function(t){return 1==t.type}));e.playerOptions.sources[0].src=i[0].playUrl,e.playerOptions.sources[1].src=s[0].playUrl}}))}}},c=r,u=(n("6726"),n("2877")),l=Object(u["a"])(c,i,s,!1,null,null,null);e["default"]=l.exports}}]);